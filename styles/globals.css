@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --background: 210 40% 98%;
        --foreground: 222.2 84% 4.9%;

        --card: 0 0% 100%;
        --card-foreground: 222.2 84% 4.9%;

        --popover: 0 0% 100%;
        --popover-foreground: 222.2 84% 4.9%;

        --primary: 221.2 83.2% 53.3%;
        --primary-foreground: 210 40% 98%;

        --secondary: 210 40% 96.1%;
        --secondary-foreground: 222.2 47.4% 11.2%;

        --muted: 210 40% 96.1%;
        --muted-foreground: 215.4 16.3% 46.9%;

        --accent: 262 83.3% 57.8%;
        --accent-foreground: 210 40% 98%;

        --destructive: 0 84.2% 60.2%;
        --destructive-foreground: 210 40% 98%;

        --border: 214.3 31.8% 91.4%;
        --input: 214.3 31.8% 91.4%;
        --ring: 222.2 84% 4.9%;

        --radius: 0.75rem;
    }

    .dark {
        --background: 222.2 84% 4.9%;
        --foreground: 210 40% 98%;

        --card: 217.2 32.6% 12%;
        --card-foreground: 210 40% 98%;

        --popover: 222.2 84% 4.9%;
        --popover-foreground: 210 40% 98%;

        --primary: 217.2 91.2% 59.8%;
        --primary-foreground: 222.2 47.4% 11.2%;

        --secondary: 217.2 32.6% 17.5%;
        --secondary-foreground: 210 40% 98%;

        --muted: 217.2 32.6% 17.5%;
        --muted-foreground: 215 20.2% 65.1%;

        --accent: 262 83.3% 57.8%;
        --accent-foreground: 210 40% 98%;

        --destructive: 0 62.8% 30.6%;
        --destructive-foreground: 210 40% 98%;

        --border: 217.2 32.6% 17.5%;
        --input: 217.2 32.6% 17.5%;
        --ring: 212.7 26.8% 83.9%;
    }
}

@layer base {
    * {
        @apply border-border;
    }
    body {
        @apply bg-background text-foreground;
        font-feature-settings:
            "rlig" 1,
            "calt" 1;
    }
    
    /* Prevent flickering and improve performance */
    .animate-pulse {
        will-change: opacity;
        transform: translateZ(0);
    }
    
    .animate-blob {
        will-change: transform;
        transform: translateZ(0);
    }
    
    /* Optimize background elements */
    .bg-blur {
        will-change: transform;
        transform: translateZ(0);
    }
    
    /* Optimize card hover effects to prevent flickering */
    .group:hover .group-hover\:text-primary {
        will-change: color;
        transform: translateZ(0);
    }
    
    .transition-colors {
        will-change: color, background-color, border-color;
        transform: translateZ(0);
    }
    
    .transition-shadow {
        will-change: box-shadow;
        transform: translateZ(0);
    }
}

@layer utilities {
    .animate-in {
        animation: animateIn 0.3s ease-in-out;
    }

    .slide-in-from-top {
        animation: slideInFromTop 0.4s ease-out forwards;
    }

    .slide-in-from-bottom {
        animation: slideInFromBottom 0.4s ease-out forwards;
    }

    .fade-in {
        animation: fadeIn 0.5s ease-out forwards;
    }

    .scale-in {
        animation: scaleIn 0.3s ease-out forwards;
    }

    .gradient-text {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary to-accent;
    }

    .gradient-border {
        position: relative;
        border-radius: inherit;
    }

    .gradient-border::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        border-radius: inherit;
        padding: 1px;
        background: linear-gradient(
            to right,
            hsl(var(--primary)),
            hsl(var(--accent))
        );
        -webkit-mask:
            linear-gradient(#fff 0 0) content-box,
            linear-gradient(#fff 0 0);
        -webkit-mask-composite: xor;
        mask-composite: exclude;
        pointer-events: none;
    }

    .shimmer {
        position: relative;
        overflow: hidden;
    }

    .shimmer::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            90deg,
            rgba(255, 255, 255, 0) 0%,
            rgba(255, 255, 255, 0.05) 20%,
            rgba(255, 255, 255, 0.1) 60%,
            rgba(255, 255, 255, 0) 100%
        );
        transform: translateX(-100%);
        animation: shimmer 2.5s infinite;
        pointer-events: none;
    }

    .spin-slow {
        animation: spin-slow 12s linear infinite;
    }

    .morph-shape {
        animation: morph 8s ease-in-out infinite;
    }

    .card-hover-effect {
        @apply transition-shadow duration-300 hover:shadow-lg rounded-xl;
        will-change: box-shadow;
        transform: translateZ(0);
    }

    .glass-effect {
        @apply bg-opacity-70 backdrop-blur-md backdrop-filter;
    }

    .resource-card {
        @apply border border-border/40 p-5 rounded-xl transition-all duration-300;
    }

    .resource-card-grid {
        @apply grid gap-8 auto-rows-fr;
    }

    .card-content-spacing {
        @apply px-5 py-4;
    }

    .frosted-glass {
        @apply bg-background/80 backdrop-blur-lg backdrop-saturate-150 border border-border/30;
    }

    .highlight-hover {
        @apply relative after:absolute after:bottom-0 after:left-0 after:h-[2px] after:w-0 after:bg-primary after:transition-all hover:after:w-full;
    }

    .text-balance {
        text-wrap: balance;
    }

    .text-gradient {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary via-accent to-primary;
    }

    .shadow-card {
        @apply shadow-[0_8px_30px_rgb(0,0,0,0.07)];
    }

    .border-gradient {
        @apply p-[1px] relative overflow-hidden;
        background-image:
            linear-gradient(var(--background), var(--background)),
            linear-gradient(to right, var(--primary), var(--accent));
        background-origin: border-box;
        background-clip: content-box, border-box;
    }

    .animate-float {
        animation: float 6s ease-in-out infinite;
    }

    .animate-pulse-slow {
        animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        will-change: opacity;
    }

    /* Mobile compact styles */
    @media (max-width: 768px) {
        .container {
            @apply px-3;
        }

        h1 {
            @apply text-3xl;
        }

        h2 {
            @apply text-2xl;
        }

        p {
            @apply text-sm;
        }

        .card-hover-effect {
            @apply hover:shadow-md hover:translate-y-0;
        }

        .card {
            @apply rounded-lg;
        }

        .card-header {
            @apply pb-2 pt-3 px-4;
        }

        .card-content {
            @apply px-4 py-2;
        }

        .card-footer {
            @apply px-4 py-3;
        }

        .badge {
            @apply px-2 py-0.5 text-xs;
        }

        .btn {
            @apply py-1 text-sm;
        }

        .gap-8 {
            @apply gap-4;
        }

        .py-24 {
            @apply py-12;
        }

        .py-16 {
            @apply py-8;
        }

        .mb-16 {
            @apply mb-8;
        }

        .mb-12 {
            @apply mb-6;
        }

        .space-y-8 {
            @apply space-y-4;
        }

        .space-y-6 {
            @apply space-y-3;
        }
    }
}

@keyframes animateIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInFromTop {
    0% {
        opacity: 0;
        transform: translateY(-20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes slideInFromBottom {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }
    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}

@keyframes scaleIn {
    0% {
        opacity: 0;
        transform: scale(0.95);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes float {
    0% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-10px);
    }
    100% {
        transform: translateY(0);
    }
}

@keyframes pulse {
    0%,
    100% {
        opacity: 1;
    }
    50% {
        opacity: 0.7;
    }
}

@keyframes shimmer {
    from {
        background-position: 0% 0%;
    }
    to {
        background-position: 200% 0%;
    }
}

@keyframes spin-slow {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

@keyframes morph {
    0% {
        border-radius: 60% 40% 30% 70%/60% 30% 70% 40%;
    }
    50% {
        border-radius: 30% 60% 70% 40%/50% 60% 30% 60%;
    }
    100% {
        border-radius: 60% 40% 30% 70%/60% 30% 70% 40%;
    }
}
